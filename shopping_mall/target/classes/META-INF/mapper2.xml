<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="abadminDB">


<select id="adin_select" parameterType="Map" resultType="abaddao">
select * from admininfo 
<choose>
<when test="part==1">
where adid=#{adid} and adpw=#{adpw} and adYN='승인' 
</when>
<when test="part==2">
where adidx=#{adidx}
</when>
<otherwise>
order by adidx desc
</otherwise>
</choose>
</select>


<update id="adYN_update" parameterType="abaddao">
update admininfo set adYN=#{adYN} where adidx=#{adidx}
</update>

<select id="adli_select" resultType="abaddao"> 
select adidx,adid,adname,ademail,adnum1,adnum2,adnum3,addepart,adposition,adYN,addate from admininfo
</select>

<select id="id_check" parameterType="String" resultType="Integer">
select count(*) from admininfo where adid=#{adid}
</select>

<insert id="cawr_in">
insert into ca_set (ca_idx,cacode,lcode,lname,ca_use,cadate) values 
('0',#{cacode},#{lcode},#{lname},#{ca_use},now())
</insert>

<insert id="home_in">
insert into abad_setting (sidx,hi_title,hi_ademail,hi_use,hi_point,hi_level,
hs_com,hs_bnum,hs_kname,hs_knum,hs_osnum,hs_addnum,hs_postal,hs_badd,hs_adname,hs_ademail,
pb_bk,pb_bknum,pb_card,pb_phone,pb_bv,pb_min,pb_max,pb_cash,
de_name,de_price,de_date,sdate)
values ('0',#{hi_title},#{hi_ademail},#{hi_use},#{hi_point},#{hi_level},
#{hs_com},#{hs_bnum},#{hs_kname},#{hs_knum},#{hs_osnum},#{hs_addnum},#{hs_postal},#{hs_badd},#{hs_adname},#{hs_ademail},
#{pb_bk},#{pb_bknum},#{pb_card},#{pb_phone},#{pb_bv},#{pb_min},#{pb_max},#{pb_cash},#{de_name},#{de_price},#{de_date},now())
</insert>

<insert id="abad_in">
insert into admininfo (adidx,adid,adpw,adname,ademail,adnum1,adnum2,adnum3,addepart,adposition,adYN,addate)
values ('0',#{adid},#{adpw},#{adname},#{ademail},#{adnum1},#{adnum2},#{adnum3},#{addepart},#{adposition},'미승인',now())
</insert>

</mapper>