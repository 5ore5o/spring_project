<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="abadminDB">

<update id="ad_update" parameterType="Map" resultType="abaddao">
update admininfo set adYN=
<choose>
<when test="part==1">
'Y' where adid=#{adid}
</when>
<when test="part==2">
'N' where adid=#{adid}
</when>
</choose>
</update>

<select id="adin_select" parameterType="Map" resultType="abaddao">
select * from admininfo 
<choose>
<when test="part==1">
where adid=#{adid} and adpw=#{adpw} and adYN='Y' 
</when>
<otherwise>
order by adidx desc
</otherwise>
</choose>
</select>


<select id="adli_select" resultType="abaddao"> 
select adidx,adid,adname,ademail,adnum1,adnum2,adnum3,addepart,adposition,adYN,addate from admininfo
</select>

<select id="id_check" parameterType="String" resultType="Integer">
select count(*) from admininfo where adid=#{adid}
</select>

<insert id="abad_in">
insert into admininfo (adidx,adid,adpw,adname,ademail,adnum1,adnum2,adnum3,addepart,adposition,adYN,addate)
values ('0',#{adid},#{adpw},#{adname},#{ademail},#{adnum1},#{adnum2},#{adnum3},#{addepart},#{adposition},'N',now())
</insert>

</mapper>